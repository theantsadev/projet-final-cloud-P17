System.register(["./index-legacy-DVVyv3Gx.js"],function(e,a){"use strict";var l,o,t,n,i,r,u,s,d,c,p,m,v,g,f,b,x,_,h,y,w,V,k,z,C,S,q,E,A,D,I,L,j,F,U,N;return{setters:[e=>{l=e.d,o=e.u,t=e.a,n=e.o,i=e.c,r=e.w,u=e.b,s=e.e,d=e.I,c=e.f,p=e.g,m=e.h,v=e.i,g=e.j,f=e.k,b=e.l,x=e.m,_=e.n,h=e.p,y=e.t,w=e.q,V=e.r,k=e.s,z=e.v,C=e.x,S=e.y,q=e.z,E=e.A,A=e.B,D=e.C,I=e.D,L=e.E,j=e.F,F=e.G,U=e.H,N=e._}],execute:function(){var a=document.createElement("style");a.textContent=".login-container[data-v-c760aeba]{max-width:400px;margin:0 auto;padding-top:20px}.logo-section[data-v-c760aeba]{text-align:center;margin-bottom:24px}.logo-icon[data-v-c760aeba]{font-size:64px;color:var(--ion-color-primary);margin-bottom:16px}.logo-section h1[data-v-c760aeba]{margin:0;font-size:24px;font-weight:700;color:var(--ion-color-primary)}.logo-section p[data-v-c760aeba]{margin:8px 0 0;color:var(--ion-color-medium);font-size:14px}ion-card[data-v-c760aeba]{margin-bottom:16px;border-radius:12px}ion-card-title[data-v-c760aeba]{font-size:20px;text-align:center}ion-item[data-v-c760aeba]{margin-bottom:16px;--border-radius: 8px}.error-message[data-v-c760aeba]{font-size:14px;margin:8px 0;padding:8px;border-radius:4px;background-color:rgba(var(--ion-color-danger-rgb),.1)}.login-button[data-v-c760aeba]{margin-top:24px;--border-radius: 8px;height:48px;font-weight:600}.switch-mode[data-v-c760aeba]{text-align:center;margin-top:16px}\n/*$vite$:1*/",document.head.appendChild(a);const P={class:"login-container"},$={class:"logo-section"},B={class:"error-message"},G={key:1},H={class:"switch-mode"},M={key:0};e("default",N(l({__name:"LoginPage",setup(e){const a=o(),l=t(),N=U(!1),R=U(""),T=U(""),J=U(""),K=U(!1),O=U(!1),Q=U(""),W=U("success"),X=()=>{N.value=!N.value,l.clearError()},Y=async()=>{if(!R.value||!T.value)return Q.value="Veuillez remplir tous les champs",W.value="warning",void(O.value=!0);if(N.value&&!J.value)return Q.value="Veuillez entrer votre nom complet",W.value="warning",void(O.value=!0);let e;l.clearError(),e=N.value?await l.register({email:R.value,password:T.value,fullName:J.value}):await l.login({email:R.value,password:T.value}),e.success?(Q.value=N.value?"Inscription rÃ©ussie !":"Connexion rÃ©ussie !",W.value="success",O.value=!0,setTimeout(()=>{a.push("/map")},1e3)):(Q.value=e.message,W.value="danger",O.value=!0)};return(e,a)=>(n(),i(s(F),null,{default:r(()=>[u(s(d),null,{default:r(()=>[u(s(c),{color:"primary"},{default:r(()=>[u(s(p),null,{default:r(()=>[...a[5]||(a[5]=[m("Signalement Routier",-1)])]),_:1})]),_:1})]),_:1}),u(s(v),{class:"ion-padding"},{default:r(()=>[g("div",P,[g("div",$,[u(s(f),{icon:s(b),class:"logo-icon"},null,8,["icon"]),a[6]||(a[6]=g("h1",null,"Antananarivo",-1)),a[7]||(a[7]=g("p",null,"Application de signalement routier",-1))]),u(s(x),null,{default:r(()=>[u(s(_),null,{default:r(()=>[u(s(h),null,{default:r(()=>[m(y(N.value?"Inscription":"Connexion"),1)]),_:1})]),_:1}),u(s(w),null,{default:r(()=>[g("form",{onSubmit:V(Y,["prevent"])},[N.value?(n(),i(s(k),{key:0},{default:r(()=>[u(s(z),{position:"floating"},{default:r(()=>[...a[8]||(a[8]=[m("Nom complet",-1)])]),_:1}),u(s(C),{modelValue:J.value,"onUpdate:modelValue":a[0]||(a[0]=e=>J.value=e),type:"text",placeholder:"Votre nom complet",required:N.value},null,8,["modelValue","required"])]),_:1})):S("",!0),u(s(k),null,{default:r(()=>[u(s(z),{position:"floating"},{default:r(()=>[...a[9]||(a[9]=[m("Email",-1)])]),_:1}),u(s(C),{modelValue:R.value,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value=e),type:"email",placeholder:"votre@email.com",required:""},null,8,["modelValue"])]),_:1}),u(s(k),null,{default:r(()=>[u(s(z),{position:"floating"},{default:r(()=>[...a[10]||(a[10]=[m("Mot de passe",-1)])]),_:1}),u(s(C),{modelValue:T.value,"onUpdate:modelValue":a[2]||(a[2]=e=>T.value=e),type:K.value?"text":"password",placeholder:"Votre mot de passe",required:""},null,8,["modelValue","type"]),u(s(q),{fill:"clear",slot:"end",onClick:a[3]||(a[3]=e=>K.value=!K.value)},{default:r(()=>[u(s(f),{icon:K.value?s(E):s(A)},null,8,["icon"])]),_:1})]),_:1}),s(l).error?(n(),i(s(D),{key:1,color:"danger"},{default:r(()=>[g("p",B,y(s(l).error),1)]),_:1})):S("",!0),u(s(q),{expand:"block",type:"submit",disabled:s(l).isLoading,class:"login-button"},{default:r(()=>[s(l).isLoading?(n(),i(s(I),{key:0,name:"crescent"})):(n(),L("span",G,y(N.value?"S'inscrire":"Se connecter"),1))]),_:1},8,["disabled"])],32),g("div",H,[u(s(q),{fill:"clear",onClick:X},{default:r(()=>[m(y(N.value?"DÃ©jÃ  un compte ? Se connecter":"Pas de compte ? S'inscrire"),1)]),_:1})])]),_:1})]),_:1}),u(s(x),{color:"light"},{default:r(()=>[u(s(w),null,{default:r(()=>[a[11]||(a[11]=g("p",null,[g("strong",null,"ðŸ”¥ Firebase Authentication")],-1)),a[12]||(a[12]=g("p",null,"L'authentification est gÃ©rÃ©e directement par Firebase.",-1)),N.value?S("",!0):(n(),L("p",M,"CrÃ©ez un compte pour commencer Ã  signaler les problÃ¨mes routiers."))]),_:1})]),_:1})])]),_:1}),u(s(j),{"is-open":O.value,message:Q.value,color:W.value,duration:3e3,onDidDismiss:a[4]||(a[4]=e=>O.value=!1)},null,8,["is-open","message","color"])]),_:1}))}}),[["__scopeId","data-v-c760aeba"]]))}}});
